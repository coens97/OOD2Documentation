\chapter{Sequence diagrams}
\section{Business}
The businness layer isn't supposed to know about the view. As seen in figure \ref{fig:seqbus} the \emph{MainWindow} is not visible, so the message comes from 'somewhere'. Then it will do some bushiness logic like checking if a component would not be overlapping another component. At the end when the flow network has changed the changes will be send back using callbacks to the presentation layer.

\section{Overall}
In figure \ref{fig:seqoverall} a sequence diagram is visible which goes through all the layers of the application. Very noticeable is that \emph{IFlowModel} and \emph{IDataAccesLayer} both have the \emph{OpenFile} operation. Usually the presentation layer isn't suppose to know about the data layer because the data access layer usually contains CRUD operations.

\section{Presentation layer}
In figure \ref{fig:seqprespipe} many things are triggered by the user. Those are triggered by events from WPF when a component is selected. The flowModel contains an event which has to be triggered when the network has changed. That event is passed on to the \emph{IFlowCalculator} to be called when it is done.

\begin{figure}[h!]
	\centering
	\includegraphics{figures/BusinessAddNewComponent.pdf}
	\caption{Business add new component}
	\label{fig:seqbus}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\textwidth]{figures/OverallLoadFile.pdf}
	\caption{Overall load file}
	\label{fig:seqoverall}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\textwidth]{figures/PresentationCreateConnection.pdf}
	\caption{Presentation create pipeline}
	\label{fig:seqprespipe}
\end{figure}
